<!DOCTYPE html>
<html>
<head>
<title>Manic Miner: Routine at 37098</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Manic Miner" src="../../images/logo-dec.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="36904.html">36904</a>
</td>
<td class="up">Up: <a href="../maps/all.html#37098">Map</a></td>
<td class="next">
Next: <a href="37125.html">37125</a>
</td>
</tr>
</table>
<div class="description">37098: Add to the score</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
The entry point to this routine is at <a href="37098.html#37118">37118</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="37098"></span>37098</td>
<td class="instruction">LD (HL),48</td>
<td class="comment-1" rowspan="1">Roll the digit over from '9' to '0'</td>
</tr>
<tr>
<td class="address-1"><span id="37100"></span>37100</td>
<td class="instruction">DEC HL</td>
<td class="comment-1" rowspan="1">Point <span class="register">HL</span> at the next digit to the left</td>
</tr>
<tr>
<td class="address-1"><span id="37101"></span>37101</td>
<td class="instruction">LD A,L</td>
<td class="comment-1" rowspan="2">Is this the 10000s digit?</td>
</tr>
<tr>
<td class="address-1"><span id="37102"></span>37102</td>
<td class="instruction">CP 42</td>
</tr>
<tr>
<td class="address-1"><span id="37104"></span>37104</td>
<td class="instruction">JR NZ,<a href="37098.html#37118">37118</a></td>
<td class="comment-1" rowspan="1">Jump if not</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="37106"></span>
<div class="comments">
<div class="paragraph">
Willy has scored another 10000 points. Give him an extra life.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="37106"></span>37106</td>
<td class="instruction">LD A,8</td>
<td class="comment-1" rowspan="2">Set the screen flash counter at <a href="33880.html">33880</a> to 8</td>
</tr>
<tr>
<td class="address-1"><span id="37108"></span>37108</td>
<td class="instruction">LD (33880),A</td>
</tr>
<tr>
<td class="address-1"><span id="37111"></span>37111</td>
<td class="instruction">LD A,(33879)</td>
<td class="comment-1" rowspan="3">Increment the number of lives remaining at <a href="33879.html">33879</a></td>
</tr>
<tr>
<td class="address-1"><span id="37114"></span>37114</td>
<td class="instruction">INC A</td>
</tr>
<tr>
<td class="address-1"><span id="37115"></span>37115</td>
<td class="instruction">LD (33879),A</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="37118"></span>
<div class="comments">
<div class="paragraph">
The entry point to this routine is here and is used by the routines at <a href="36707.html">36707</a>, <a href="36904.html">36904</a> and <a href="37173.html">37173</a> with <span class="register">HL</span> pointing at the digit of the score (see <a href="33829.html#33833">33833</a>) to be incremented.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="37118"></span>37118</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1">Pick up a digit of the score</td>
</tr>
<tr>
<td class="address-1"><span id="37119"></span>37119</td>
<td class="instruction">CP 57</td>
<td class="comment-1" rowspan="1">Is it '9'?</td>
</tr>
<tr>
<td class="address-1"><span id="37121"></span>37121</td>
<td class="instruction">JR Z,<a href="37098.html#37098">37098</a></td>
<td class="comment-1" rowspan="1">Jump if so</td>
</tr>
<tr>
<td class="address-1"><span id="37123"></span>37123</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment the digit</td>
</tr>
<tr>
<td class="address-1"><span id="37124"></span>37124</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="36904.html">36904</a>
</td>
<td class="up">Up: <a href="../maps/all.html#37098">Map</a></td>
<td class="next">
Next: <a href="37125.html">37125</a>
</td>
</tr>
</table>
<footer>
<div class="release">The complete Manic Miner RAM disassembly 20221122</div>
<div class="copyright">&#169; 1983 Bug-Byte Ltd. &#169; 2022 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.8.</div>
<div><a href="../../asm/90EA.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>